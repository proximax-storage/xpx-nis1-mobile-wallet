<!--
  Generated template for the CoinPriceChartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar transparent>
    <ion-title *ngIf="selectedCoin">
      <span text-uppercase ion-text color="black">
        {{ selectedCoin.name }} ({{ selectedCoin.symbol }})
      </span>
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content background>
  <section text-center>
    <h1 price ion-text color="black" *ngIf="selectedCoin">{{ selectedCoin.market_data.current_price.usd | currency: 'USD': 'symbol': '1.2-6' }}</h1>
    <button gradient-button tiny width-auto no-margin [attr.color-5]="selectedCoin.market_data.market_cap_change_percentage_24h > 0 ? true : null"
      [attr.color-5]="selectedCoin.market_data.market_cap_change_percentage_24h < 0 ? true : null" *ngIf="selectedCoin">
      {{ selectedCoin.market_data.market_cap_change_percentage_24h | number: '1.1-1' }}%
    </button>
  </section>

  <section id="container"></section>

  <ion-grid normal>
    <ion-row justify-content-center>
      <ion-col text-center *ngFor="let duration of durations" (click)="select(duration)">
<button gradient-button no-margin width-auto tiny (click)="select(duration)" [attr.color-6]="selectedDuration.value === duration.value ? true : null"
          [attr.color-5]="selectedDuration.value !== duration.value ? true : null">
          {{ duration.label }}
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid normal>
    <ion-row>
      <ion-col>
          <button (click)="showReceiveModal()" gradient-button  full color-6 ion-button icon-start no-margin>
              <ion-icon  name="arrow-round-down"></ion-icon>
              Receive
            </button>
      </ion-col>
      <ion-col>
          <button (click)="showSendModal()" gradient-button full color-5 ion-button icon-end no-margin>
              Send
              <ion-icon name="arrow-round-up"></ion-icon>
            </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h2 margin-left ion-text color="black">Stats</h2>


  <!-- Skeleton loader -->
  <ion-list transparent-items *ngIf="isLoading">
      <ion-card fake-card *ngFor="let fakeCard of fakeList">
        <ion-card-header>
          <p float-left> &nbsp; </p>
  
          <p float-right> &nbsp; </p>
        </ion-card-header>
        <ion-card-header no-padding>
          <ion-item>
            <section image item-left></section>
            <h2> &nbsp; </h2>
            <p>
              <small> &nbsp; </small>
            </p>
  
            <section item-right>
              <h2> &nbsp; </h2>
              <p>
                <small> &nbsp; </small>
              </p>
            </section>
          </ion-item>
        </ion-card-header>
        <ion-card-content line no-padding>
          <ion-item>
            <h2> &nbsp; </h2>
            <p>
              <small> &nbsp; </small>
            </p>
  
            <section text-right item-right>
              <p>
                <small> &nbsp; </small>
              </p>
  
              <p>
                <small> &nbsp; </small>
              </p>
            </section>
          </ion-item>
        </ion-card-content>
      </ion-card>
  
      <ion-card no-border>
        <ion-item text-center>
          <ion-spinner name="dots"></ion-spinner>
        </ion-item>
      </ion-card>
    </ion-list>
    <!-- ./Skeleton loader -->
  
    <!-- Transactions -->
    <ion-list transparent-items *ngIf="!isLoading">
  
      <ion-card *ngFor="let transaction of unconfirmedTransactions; trackBy: trackByHash;" (click)="gotoTransactionDetail(transaction)">
        <!-- if importance transfer -->
        <importance-transfer-transaction *ngIf="transaction.type == TransactionTypes.IMPORTANCE_TRANSFER" [tx]="transaction"></importance-transfer-transaction>
  
        <!-- if mosaic definition -->
        <mosaic-definition-transaction *ngIf="transaction.type == TransactionTypes.MOSAIC_DEFINITION_CREATION" [tx]="transaction"></mosaic-definition-transaction>
  
        <!-- if mosaic supply change -->
        <mosaic-supply-change-transaction *ngIf="transaction.type == TransactionTypes.MOSAIC_SUPPLY_CHANGE" [tx]="transaction"></mosaic-supply-change-transaction>
  
        <!-- if multisig transaction  -->
        <multisig-transaction *ngIf="transaction.type == TransactionTypes.MULTISIG" [tx]="transaction"></multisig-transaction>
  
        <!-- if multisig aggregate modification  -->
        <multisig-aggregate-modification-transaction *ngIf="transaction.type == TransactionTypes.MULTISIG_AGGREGATE_MODIFICATION"
          [tx]="transaction"></multisig-aggregate-modification-transaction>
  
        <!-- if provision namespace  -->
        <provision-namespace-transaction *ngIf="transaction.type == TransactionTypes.PROVISION_NAMESPACE" [tx]="transaction"></provision-namespace-transaction>
  
        <!-- if transfer  -->
        <transfer-transaction *ngIf="transaction.type == TransactionTypes.TRANSFER" [tx]="transaction"></transfer-transaction>
      </ion-card>
  
      <ion-card *ngFor="let transaction of confirmedTransactions; trackBy: trackByHash" (click)="gotoTransactionDetail(transaction)">
        <!-- if importance transfer -->
        <importance-transfer-transaction *ngIf="transaction.type == TransactionTypes.IMPORTANCE_TRANSFER" [tx]="transaction"></importance-transfer-transaction>
  
        <!-- if mosaic definition -->
        <mosaic-definition-transaction *ngIf="transaction.type == TransactionTypes.MOSAIC_DEFINITION_CREATION" [tx]="transaction"></mosaic-definition-transaction>
  
        <!-- if mosaic supply change -->
        <mosaic-supply-change-transaction *ngIf="transaction.type == TransactionTypes.MOSAIC_SUPPLY_CHANGE" [tx]="transaction"></mosaic-supply-change-transaction>
  
        <!-- if multisig transaction  -->
        <multisig-transaction *ngIf="transaction.type == TransactionTypes.MULTISIG" [tx]="transaction"></multisig-transaction>
  
        <!-- if multisig aggregate modification  -->
        <multisig-aggregate-modification-transaction *ngIf="transaction.type == TransactionTypes.MULTISIG_AGGREGATE_MODIFICATION"
          [tx]="transaction"></multisig-aggregate-modification-transaction>
  
        <!-- if provision namespace  -->
        <provision-namespace-transaction *ngIf="transaction.type == TransactionTypes.PROVISION_NAMESPACE" [tx]="transaction"></provision-namespace-transaction>
  
        <!-- if transfer  -->
        <transfer-transaction *ngIf="transaction.type == TransactionTypes.TRANSFER" [tx]="transaction"></transfer-transaction>
      </ion-card>
  
    </ion-list>
    <!-- ./Transactions -->
  
    <!-- Infinite scroll -->
    <ion-infinite-scroll (ionInfinite)="doInfinite()">
      <ion-infinite-scroll-content loadingSpinner="dots" loadingText="Loading more transactions"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <!-- ./Infinite scroll -->
  
    <ion-grid empty *ngIf="showEmptyMessage">
      <ion-row>
        <ion-col>
          <img half-width [src]="App.STICKERS.SORRY">
  <!-- 
          <h4 ion-text color="blackgreen" text-wrap>
            No transactions yet
          </h4> -->
  
          <h6 ion-text color="blackgreen" text-wrap>
            You don't have any transactions yet.
          </h6>
  
          <!-- <p text-wrap>
            Start by sending mosaics to your new wallet
          </p> -->
  
  <!-- 
          <h6 ion-text color="blackgreen" text-wrap>
            Start by sending mosaics to your new wallet
          </h6> -->
  
          <button gradient-button color-5 color="black" (click)="showReceiveModal()">
            Topup now
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>

<ng-template #loading>
  <ion-spinner name="dots"></ion-spinner>
</ng-template>
