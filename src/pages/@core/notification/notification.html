<!--
  Generated template for the NotificationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>notification</ion-title>
  </ion-navbar>

</ion-header> -->


<ion-content background>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-round-up" refreshingSpinner="ios">
    </ion-refresher-content>
  </ion-refresher>

  <ion-list transparent-items title transparent>
    <ion-item transparent>
      <h2 padding-left title color="dark">
        <strong>
          Notifications
        </strong>
      </h2>
    </ion-item>


    <ion-card notification *ngFor="let post of posts" (click)="showMore(post['notific']);seenPost(post['notific']['notificationID'])">

      <ion-item notification *ngIf="!post.expanded">
        <ion-avatar *ngIf="post['notific']['bigPicture']" notification item-start>
          <img [src]="post['notific']['bigPicture']">
          <br>
        </ion-avatar>
        <h3 text-wrap>{{post['notific']['title']}}</h3>
      </ion-item>
      <img [src]="post['notific']['bigPicture']" *ngIf="post.expanded && post['notific']['bigPicture']">

      <ion-card-content>
        <ion-card-title *ngIf="post.expanded">{{post['notific']['title']}}</ion-card-title>
        <!-- <p *ngIf="!post.expanded" text-justify-start [innerHTML]="post['notific']['body']"></p> -->

        <p *ngIf="post.expanded" text-justify-start [ngxmarkdown]="post['notific']['body']"></p>
        <ion-item>
          <ion-badge *ngFor="let tag of post['notific']['actionButtons']" item-start>{{tag.text}}</ion-badge>
        </ion-item>


      </ion-card-content>



    </ion-card>

  </ion-list>

</ion-content>
